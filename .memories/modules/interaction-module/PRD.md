# 互动模块 PRD

## 功能需求

### 1. 评论系统
- 发表评论（一级评论）
- 回复评论（楼中楼）
- 删除评论（作者/管理员）
- 评论列表（分页）

### 2. 点赞功能
- 帖子点赞/取消
- 评论点赞/取消
- 幂等设计（重复请求返回当前状态）

### 3. 收藏功能
- 收藏/取消收藏
- 我的收藏列表

## 数据模型

### Comment
| 字段 | 类型 | 说明 |
|------|------|------|
| post | FK | 所属帖子 |
| author | FK | 评论者 |
| content | Text | 内容（500字） |
| parent | FK | 父评论（楼中楼） |
| reply_to | FK | 回复的用户 |
| like_count | Int | 点赞数 |
| status | Char | 状态 |

### Like
| 字段 | 类型 | 说明 |
|------|------|------|
| user | FK | 用户 |
| post | FK | 帖子（可空） |
| comment | FK | 评论（可空） |

### Favorite
| 字段 | 类型 | 说明 |
|------|------|------|
| user | FK | 用户 |
| post | FK | 帖子 |

## 权限设计
- 评论删除：作者、圈主、圈管理员
- 点赞/收藏：登录用户
